{"version":3,"sources":["i2z.js","z2i.js","convert.js","main.js"],"names":["regZ","par","toUpperCase","regPairZ","doIndirect","transI2Z","par1","par2","parseInt","toString","module","exports","croak","m","Error","isReg","indexOf","isRegM","isRegPair","isIndirect","trim","length","register","noIndirect","substr","regPair","transZ2I","reg1","reg2","regpair1","ind1","ind2","findFirstPos","line","xs","pos","i","test","apos","trans","conv","op","lop","toLowerCase","convline","label","remainder","s","cx","convert","txt","transTab","lines","split","map","join","require","compile","source","editor","getValue","document","getElementById","value","out","addListener","element","eventName","handler","addEventListener","attachEvent"],"mappings":"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","file":"main.f43da992.map","sourceRoot":"..","sourcesContent":["var regZ = function(par) {\n  par = par.toUpperCase();\n  if(par==\"M\") return \"(HL)\";\n  return par\n}\n\nvar regPairZ = function(par) {\n  par = par.toUpperCase();\n  if(par==\"PSW\") return \"AF\"\n  if(par==\"B\") return \"BC\"\n  if(par==\"D\") return \"DE\"\n  if(par==\"H\") return \"HL\"\n  return par;\n}\n\nvar doIndirect = function(par) {return \"(\"+par+\")\"}\n\n\nvar transI2Z = {\n\n\n  \"mov\": function(par1,par2) {\n    return[\"LD\",regZ(par1),regZ(par2)]\n  },\n  \"mvi\": function(par1,par2) {\n    return[\"LD\",regZ(par1),par2]\n  },\n  \"ldax\": function(par1,par2) {\n    return[\"LD\",\"A\",doIndirect(regPairZ(par1))]\n  },\n  \"lda\": function(par1,par2) {\n    return[\"LD\",\"A\",doIndirect(par1)]\n  },\n  \"lhld\": function(par1,par2) {\n    return[\"LD\",\"HL\",doIndirect(par1)]\n  },\n  \"stax\": function(par1,par2) {\n    return[\"LD\",doIndirect(regPairZ(par1)),\"A\"]\n  },\n  \"sta\": function(par1,par2) {\n    return[\"LD\",doIndirect(par1),\"A\"]\n  },\n  \"shld\": function(par1,par2) {\n    return[\"LD\",doIndirect(par1),\"HL\"]\n  },\n\n  \"lxi\": function(par1,par2) {\n    return[\"LD\",regPairZ(par1),par2]\n  },\n\n  \"dad\": function(par1,par2) {\n    return[\"ADD\",\"HL\",regPairZ(par1)]\n  },\n\n\n\n  \"add\": function(par1,par2) {\n    return[\"ADD\",\"A\",regZ(par1)]\n  },\n  \"adi\": function(par1,par2) {\n    return[\"ADD\",\"A\",regZ(par1)]\n  },\n  \"adc\": function(par1,par2) {\n    return[\"ADC\",\"A\",regZ(par1)]\n  },\n  \"aci\": function(par1,par2) {\n    return[\"ADC\",\"A\",regZ(par1)]\n  },\n  \"sub\": function(par1,par2) {\n    return[\"SUB\",regZ(par1),\"\"]\n  },\n  \"sui\": function(par1,par2) {\n    return[\"SUB\",regZ(par1),\"\"]\n  },\n  \"sbb\": function(par1,par2) {\n    return[\"SBC\",regZ(par1),\"\"]\n  },\n  \"sbi\": function(par1,par2) {\n    return[\"SBC\",regZ(par1),\"\"]\n  },\n\n  \"inr\": function(par1,par2) {\n    return[\"INC\",regZ(par1),\"\"]\n  },\n  \"dcr\": function(par1,par2) {\n    return[\"DEC\",regZ(par1),\"\"]\n  },\n\n  \"inx\": function(par1,par2) {\n    return[\"INC\",regPairZ(par1),\"\"]\n  },\n\n  \"dcx\": function(par1,par2) {\n    return[\"DEC\",regPairZ(par1),\"\"]\n  },\n\n\n  \"ana\": function(par1,par2) {\n    return[\"AND\",regZ(par1),\"\"]\n  },\n  \"ani\": function(par1,par2) {\n    return[\"AND\",regZ(par1),\"\"]\n  },\n  \"xra\": function(par1,par2) {\n    return[\"XOR\",regZ(par1),\"\"]\n  },\n  \"xri\": function(par1,par2) {\n    return[\"XOR\",regZ(par1),\"\"]\n  },\n  \"ora\": function(par1,par2) {\n    return[\"OR\",regZ(par1),\"\"]\n  },\n  \"ori\": function(par1,par2) {\n    return[\"OR\",regZ(par1),\"\"]\n  },\n  \"cmp\": function(par1,par2) {\n    return[\"CP\",regZ(par1),\"\"]\n  },\n  \"cpi\": function(par1,par2) {\n    return[\"CP\",regZ(par1),\"\"]\n  },\n\n  \"jmp\": function(par1,par2) {\n    return[\"JP\",par1,\"\"]\n  },\n  \"jnz\": function(par1,par2) {\n    return[\"JP\",\"NZ\",par1]\n  },\n  \"jz\": function(par1,par2) {\n    return[\"JP\",\"Z\",par1]\n  },\n  \"jnc\": function(par1,par2) {\n    return[\"JP\",\"NC\",par1]\n  },\n  \"jc\": function(par1,par2) {\n    return[\"JP\",\"C\",par1]\n  },\n  \"jpe\": function(par1,par2) {\n    return[\"JP\",\"PE\",par1]\n  },\n  \"jpo\": function(par1,par2) {\n    return[\"JP\",\"PO\",par1]\n  },\n  \"jp\": function(par1,par2) {\n    return[\"JP\",\"P\",par1]\n  },\n  \"jm\": function(par1,par2) {\n    return[\"JP\",\"M\",par1]\n  },\n\n\n  \"call\": function(par1,par2) {\n    return[\"CALL\",par1,\"\"]\n  },\n  \"cnz\": function(par1,par2) {\n    return[\"CALL\",\"NZ\",par1]\n  },\n  \"cz\": function(par1,par2) {\n    return[\"CALL\",\"Z\",par1]\n  },\n  \"cnc\": function(par1,par2) {\n    return[\"CALL\",\"NC\",par1]\n  },\n  \"cc\": function(par1,par2) {\n    return[\"CALL\",\"C\",par1]\n  },\n  \"cpe\": function(par1,par2) {\n    return[\"CALL\",\"PE\",par1]\n  },\n  \"cpo\": function(par1,par2) {\n    return[\"CALL\",\"PO\",par1]\n  },\n  \"cp\": function(par1,par2) {\n    return[\"CALL\",\"P\",par1]\n  },\n  \"cm\": function(par1,par2) {\n    return[\"CALL\",\"M\",par1]\n  },\n\n\n  \"ret\": function(par1,par2) {\n    return[\"RET\",\"\",\"\"]\n  },\n  \"rnz\": function(par1,par2) {\n    return[\"RET\",\"NZ\",\"\"]\n  },\n  \"rz\": function(par1,par2) {\n    return[\"RET\",\"Z\",\"\"]\n  },\n  \"rnc\": function(par1,par2) {\n    return[\"RET\",\"NC\",\"\"]\n  },\n  \"rc\": function(par1,par2) {\n    return[\"RET\",\"C\",\"\"]\n  },\n  \"rpe\": function(par1,par2) {\n    return[\"RET\",\"PE\",\"\"]\n  },\n  \"rpo\": function(par1,par2) {\n    return[\"RET\",\"PO\",\"\"]\n  },\n  \"rp\": function(par1,par2) {\n    return[\"RET\",\"P\",\"\"]\n  },\n  \"rm\": function(par1,par2) {\n    return[\"RET\",\"M\",\"\"]\n  },\n\n  \"rst\": function(par1,par2) {\n    return[\"RST\",(parseInt(par1)*8).toString(16)+\"h\",\"\"]\n  },\n\n\n  \"push\": function(par1,par2) {\n    return[\"PUSH\",regPairZ(par1),par2]\n  },\n  \"pop\": function(par1,par2) {\n    return[\"POP\",regPairZ(par1),par2]\n  },\n  \"in\": function(par1,par2) {\n    return[\"IN\",\"A\",doIndirect(par1)]\n  },\n  \"out\": function(par1,par2) {\n    return[\"OUT\",doIndirect(par1),\"A\"]\n  },\n\n\n  \"sphl\": function(){return [\"LD\",\"SP\",\"HL\"]},\n  \"xchg\": function(){return [\"EX\",\"DE\",\"HL\"]},\n  \"xthl\": function(){return [\"EX\",\"(SP)\",\"HL\"]},\n  \"pchl\": function(){return [\"JP\",\"(HL)\",\"\"]},\n  \"cma\": function(){return [\"CPL\",\"\",\"\"]},\n  \"stc\": function(){return [\"SCF\",\"\",\"\"]},\n  \"cmc\": function(){return [\"CCF\",\"\",\"\"]},\n  \"rlc\": function(){return [\"RLCA\",\"\",\"\"]},\n  \"rrc\": function(){return [\"RRCA\",\"\",\"\"]},\n  \"ral\": function(){return [\"RLA\",\"\",\"\"]},\n  \"rar\": function(){return [\"RLA\",\"\",\"\"]}\n}\nmodule.exports = transI2Z\n","var croak = function(m) {\n  throw new Error(\"Cannot convert \"+m)\n}\n\nvar isReg = function(par) {\n  return (\"ABCDEHL\".indexOf(par.toUpperCase()))<0?false:true\n}\nvar isRegM = function(par) {\n  if(par.toUpperCase()==\"(HL)\") return true;\n  return (\"ABCDEHL\".indexOf(par.toUpperCase()))<0?false:true\n}\nvar isRegPair = function(par) {\n  return ([\"BC\",\"DE\",\"HL\",\"SP\",\"AF\"].indexOf(par.toUpperCase()))<0?false:true\n}\nvar isIndirect = function(par) {\n  par = par.trim();\n  if(par[0]!=\"(\") return false;\n  if(par[par.length-1]==\")\") return true;\n  return false;\n}\n\nvar register = function(par) {\n  par = par.toUpperCase();\n  if (!isRegM(par)) croak (\"cannot determine register \" +par)\n  if(par==\"(HL)\") return \"M\";\n  return par\n}\n\nvar noIndirect = function(par) {\n  return par.substr(1,par.length-2)\n}\n\nvar regPair = function(par) {\n  par = par.toUpperCase();\n  if (!isRegPair(par)) croak (\"cannot determine register pair \" +par)\n  if(par==\"AF\") return \"PSW\"\n  if(par==\"SP\") return \"SP\"\n  return par[0];\n}\n\n\n\nvar transZ2I = {\n  \"ex\": function(par1,par2) {\n    if ((par1.toUpperCase()==\"DE\") && (par2.toUpperCase()==\"HL\")) return [\"XCHG\",\"\",\"\"]\n    if ((par1.toUpperCase()==\"(SP)\") && (par2.toUpperCase()==\"HL\")) return [\"XTHL\",\"\",\"\"]\n    croak(\"EX \"+par1+\",\"+par2)\n  },\n  \"or\": function(par1) {\n    if(isRegM(par1)) return[\"ORA\",register(par1),\"\"]\n    return[\"ORI\",par1,\"\"]\n  },\n  \"and\": function(par1) {\n    if(isRegM(par1)) return[\"ANA\",register(par1),\"\"]\n    return[\"ANI\",par1,\"\"]\n  },\n  \"xor\": function(par1) {\n    if(isRegM(par1)) return[\"XRA\",register(par1),\"\"]\n    return[\"XRI\",par1,\"\"]\n  },\n  \"cp\": function(par1) {\n    if(isRegM(par1)) return[\"CMP\",register(par1),\"\"]\n    return[\"CPI\",par1,\"\"]\n  },\n  \"sub\": function(par1) {\n    if(isRegM(par1)) return[\"SUB\",register(par1),\"\"]\n    return[\"SUI\",par1,\"\"]\n  },\n  \"sbc\": function(par1) {\n    if(isRegM(par1)) return[\"SBB\",register(par1),\"\"]\n    return[\"SBI\",par1,\"\"]\n  },\n  \"adc\": function(par1) {\n    if(isRegM(par1)) return[\"ADC\",register(par1),\"\"]\n    return[\"ACI\",par1,\"\"]\n  },\n  \"jp\": function(par1,par2) {\n    if(!par2) return [\"JMP\",par1,\"\"]\n    if(par1==\"(HL)\") return[\"PCHL\",\"\",\"\"]\n    return[\"J\"+par1.toUpperCase(),par2,\"\"]\n  },\n  \"call\": function(par1,par2) {\n    if(!par2) return [\"CALL\",par1,\"\"]\n    return[\"C\"+par1.toUpperCase(),par2,\"\"]\n  },\n  \"ret\": function(par1,par2) {\n    if(!par1) return [\"RET\",\"\",\"\"]\n    return[\"R\"+par1.toUpperCase(),\"\",\"\"]\n  },\n  \"push\": function(par1,par2) {\n    return[\"PUSH\",regPair(par1),par2]\n  },\n  \"pop\": function(par1,par2) {\n    return[\"POP\",regPair(par1),par2]\n  },\n  \"inc\": function(par1,par2) {\n    if(isRegPair(par1))return[\"INX\",regPair(par1),par2]\n    if(isRegM(par1)) return[\"INR\",register(par1),\"\"]\n    croak(\"inc\")\n  },\n  \"dec\": function(par1,par2) {\n    if(isRegPair(par1))return[\"DCX\",regPair(par1),par2]\n    if(isRegM(par1)) return[\"DCR\",register(par1),\"\"]\n    croak(\"inc\")\n  },\n  \"in\": function(par1,par2) {\n    return[\"IN\",noIndirect(par2),\"\"]\n  },\n  \"out\": function(par1,par2) {\n    return[\"OUT\",noIndirect(par1),\"\"]\n  },\n  \"add\": function(par1,par2) {\n    var reg1 = isRegM(par1);\n    var reg2 = isRegM(par2);\n    var regpair1 = isRegPair(par1);\n    var ind1 = isIndirect(par1);\n    var ind2 = isIndirect(par2);\n    if (regpair1) return [\"DAD\",regPair(par2),\"\"]\n    if (reg1 && reg2) return [\"ADD\",register(par1),register(par2)]\n    if (reg1 && !reg2) return [\"ADI\",register(par1),par2]\n    croak(\"add \"+par1+\",\"+par2)\n  },\n  \"ld\": function(par1,par2) {\n    var reg1 = isRegM(par1);\n    var reg2 = isRegM(par2);\n    var regpair1 = isRegPair(par1);\n    var ind1 = isIndirect(par1);\n    var ind2 = isIndirect(par2);\n    if (par1==\"SP\" && par2==\"HL\") return [\"SPHL\",\"\",\"\"]\n    if (reg1 && reg2) return [\"MOV\",register(par1),register(par2)]\n    if (reg1 && !reg2 && ind2 && par2==\"(BC)\") return [\"LDAX\",\"B\",\"\"]\n    if (reg1 && !reg2 && ind2 && par2==\"(DE)\") return [\"LDAX\",\"D\",\"\"]\n    if (reg1 && !reg2 && ind2) return [\"LDA\",noIndirect(par2),\"\"]\n    if (!reg1 && reg2 && ind1 && par1==\"(BC)\") return [\"STAX\",\"B\",\"\"]\n    if (!reg1 && reg2 && ind1 && par1==\"(DE)\") return [\"STAX\",\"D\",\"\"]\n    if (!reg1 && ind1 && reg2) return [\"STA\",noIndirect(par1),\"\"]\n    if (reg1 && !reg2 && !regpair1) return [\"MVI\",register(par1),par2]\n    if (regpair1) return [\"LXI\",regPair(par1),par2]\n    croak(\"ld \"+par1+\",\"+par2)\n  },\n  \"cpl\": function(){return [\"CMA\",\"\",\"\"]},\n  \"scf\": function(){return [\"STC\",\"\",\"\"]},\n  \"ccf\": function(){return [\"CMC\",\"\",\"\"]},\n  \"rlca\": function(){return [\"RLC\",\"\",\"\"]},\n  \"rrca\": function(){return [\"RRC\",\"\",\"\"]},\n  \"rla\": function(){return [\"RAL\",\"\",\"\"]},\n  \"rra\": function(){return [\"RAR\",\"\",\"\"]}\n}\nmodule.exports = transZ2I;\n","\nvar findFirstPos = function(line,xs) {\n  var pos = -1;\n  for (var i=0;i<xs.length;i++) {\n    var test = xs[i]\n    var apos = line.indexOf(test);\n    if (apos<0) continue;\n    if (pos==-1) pos = apos;\n    if (apos<pos) pos = apos;\n  }\n  return pos;\n}\nvar trans;\nvar croak = function(m) {\n  throw new Error(\"Cannot convert \"+m)\n}\n\n\n\nvar conv = function(op,par1,par2) {\n\n  var lop = op.toLowerCase();\n  if (trans[lop]) {\n    return trans[lop](par1.trim(),par2.trim())\n  }\n\n  return[op,par1,par2];\n}\n\nvar convline = function(line) {\n  //parse line\n  var label=\"\", op=\"\", par1=\"\",par2=\"\",remainder=\"\";\n  var s;\n  if (line[0]!=\" \") {\n    if (line[0]==\";\") return line; //whole line is a remark\n    //label?\n    s = findFirstPos(line,[\" \",\":\",\"\\t\"])\n    label = line.substr(0,s).trim();\n    line = line.substr(s+1);\n  }\n  line = line.trim();\n  s = findFirstPos(line,[\" \",\":\",\"\\t\"])\n  op = line.substr(0,s);\n  line = line.substr(s+1).trim();\n\n  s = findFirstPos(line,[\",\",\";\"])\n  if(line[s]==\",\") {\n    //2 params\n    par1 = line.substr(0,s);\n    line = line.substr(s+1).trim();\n    s = findFirstPos(line,[\";\"])\n    if (s<0) {\n      par2 = line;\n      line=\"\";\n    } else {\n      par2 = line.substr(0,s);\n      line = line.substr(s+1).trim();\n    }\n  } else if(line[s]==\";\") {\n    //1 param\n    par1 = line.substr(0,s);\n    line = line.substr(s+1).trim();\n    par2=\"\";\n  } else if(s<0) {\n    //1 param, no remark\n    if (!op) {\n      op = line\n      par1=\"\"\n    } else {\n      par1 = line\n    }\n    par2=\"\";\n    line=\"\"\n  }\n\n  remainder = line\n // console.log(\"L\",label,\"O\",op,\"1\",par1,\"2\",par2,\"R\",remainder)\n  var cx = conv(op,par1,par2);\n  op = cx[0]\n  par1 = cx[1].trim()\n  par2 = cx[2].trim();\n\n\n  //hex fix\n  if (par1[0]==\"#\") par1 = \"$\"+par1.substr(1);\n  if (par2[0]==\"#\") par2 = \"$\"+par2.substr(1);\n  if (par2) par2 = \",\"+par2;\n\n  //console.log(\"L\",label,\"O\",op,\"1\",par1,\"2\",par2,\"R\",remainder)\n\n  if (label && label[label.length-1]!=\":\") label+=\":\";\n\n  return label+\"\\t\"+op+\"\\t\"+par1+par2+ \"\\t\" + remainder;\n}\n\nvar convert = function(txt,transTab) {\n  var lines = txt.split(\"\\n\")\n  trans = transTab\n  return lines.map(convline).join(\"\\n\")\n}\n\nmodule.exports = convert\n//console.log(convert)\n//export default {convert};\n","var transI2Z = require(\"./i2z.js\")\nvar transZ2I = require(\"./z2i.js\")\n//import convert from \"./convert\"\nvar convert = require(\"./convert.js\")\n\nvar compile = function(){\n    var source\n\n//console.log(convert)\n\n    //= document.getElementById(\"source\").value\n//console.log(transI2Z)\n\n    source = editor.getValue()\n\n\n    //source +=\"\\nEND\\n\"\n    //var ENGINE = \"OMENALPHA\"\n    //var ENGINE = \"OMENCHARLIE\"\n\n    var trans;\n\n    switch (document.getElementById(\"model\").value) {\n      case \"z2i\": trans = transZ2I; break\n      case \"i2z\": trans = transI2Z; break\n    }\n\n    var out = convert(source,trans)\n\n\n    //console.log(out)\n\n    document.getElementById(\"output\").value = (out)\n}\ncompile()\n\n\n\nfunction addListener(element, eventName, handler) {\n  if (element.addEventListener) {\n    element.addEventListener(eventName, handler, false);\n  }\n  else if (element.attachEvent) {\n    element.attachEvent('on' + eventName, handler);\n  }\n  else {\n    element['on' + eventName] = handler;\n  }\n}\naddListener(document.getElementById('conv'), 'click', compile);\n"]}